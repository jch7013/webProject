<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>商品组接口调取测试</title>
<link rel="stylesheet" href="https://storage.360buyimg.com/babel/00066074/138441/production/dev/parser.1510044228420.css">
<link rel="stylesheet" type="text/css" href="css/demo.css">
<script src="./js/jquery.min.js"></script>
<script src="./js/require.min.js"></script>
</head>
<body>

<style type="text/css">
.mobile_con.bi_config .bi_box.unadd .btn_icon_add,.mobile_con.bi_config .bi_box.unadd .btn_icon_cls,.visual .separate_area .bi_box.unadd .btn_icon_add,.visual .separate_area .bi_box.unadd .btn_icon_cls,.visual .dragging .bi_box.unadd .btn_icon_add,.visual .dragging .bi_box.unadd .btn_icon_cls,.visual .bi_box.unadd .btn_icon_add,.visual .bi_box.unadd .btn_icon_cls{}
</style>
<script type="text/javascript">
!(function() {
	function loadJS(d){var c=document.createElement("script");c.type="application/javascript",c.src=d,c.charset="UTF-8",document.body?document.body.appendChild(c):document.getElementsByTagName("head")[0].appendChild(c)}function loadCSS(d){var c=document.createElement("link");c.type="text/css",c.rel="stylesheet",c.href=d,document.getElementsByTagName("head")[0].appendChild(c)};
	loadCSS('https://h5.m.jd.com/dev/AoY8oPJews28R9bXaCcu41LJPm1/pages/180429/css/presale.css');
	window.pageConfig = {
		requireDataResource: 'https://h5.m.jd.com/dev/AoY8oPJews28R9bXaCcu41LJPm1/pages/180429/js/getUserPresaleData.js',
		activityId: '00065675',
		pageUrl: '//pro.m.jd.com/mall/active/3AiWooK2dqTxuXeAAJvGpiH3j5JM/index.html'
	}
})();
</script>

<header class="headers" style="background-color: #d00269;">
	<div class="content content--demo-4">
		<img src="http://m.360buyimg.com/babel/jfs/t11230/157/243665533/164815/df4a1844/59eae066Ne2b3cec6.jpg" alt="">
		<div class="hamburger">
			<div class="hamburger__line hamburger__line--01"></div>
			<div class="hamburger__line hamburger__line--cross01">
				<div class="hamburger__line-in hamburger__line-in--cross01 hamburger__line-in--demo-4"></div>
			</div>
			<div class="hamburger__line hamburger__line--cross02">
				<div class="hamburger__line-in hamburger__line-in--cross02 hamburger__line-in--demo-4"></div>
			</div>
			<div class="aperture"></div>
		</div>

		<div class="global-menu">
			<div class="global-menu__wrap">
				<h3>【规则】</h3>
				<p class="text">
					1.	预售定金下单后，请在30分钟内付款。若超时，该订单将自动被取消。<br> 2.	预售商品可选择先支付定金，也可选择一次性支付全款。具体以商品详情页及下单页展示为准。<br> 3.	定金付款后，若非京东或商家责任（根据《售后政策》和客服判断为准），定金恕不退还。<br> 4.	预售结束后，请至京东“我的订单”中“待付款”订单查找所要支付尾款的订单。<br> 5.	尾款开始支付时，请在规定时间内支付尾款。若超时，系统将自动取消订单，且定金不退还。请注意预售结束时间，并及时支付尾款。对此我们会有短信、京东消息push及微信公众号推送等方式进行提醒。<br> 6.	如果提供赠品，赠品赠送顺序按照定金付款成功时间来计算，而不是定金下单时间。订单若取消，如有赠品，则赠品不予赠送。<br> 7.	发货时间请以预售商品详情页中“预计发货时间”为准。<br> 8.	定金膨胀商品（含“定金可抵XX元”提示语），即所付定金可当XX元使用。例如，预售价100元，定金1元，可抵10元，表示支付1元定金可当10元使用，即用户支付1元定金后，尾款只需支付90元，用户总体实付享受9元优惠。<br> 9.	预售可在定金阶段使用优惠券，优惠券优惠金额优先抵扣尾款金额，若尾款金额抵扣为0元后，可抵扣定金金额。例如预售价100元，定金10元，尾款为90元，若使用满100元-10元的优惠券则优惠券10元的优惠优先抵扣在尾款后，尾款只需支付80元。<br> 10.	如您对活动有任何疑问，请联系客服咨询。
				</p>
			</div>
		</div>
		<svg class="shape-overlays" viewBox="0 0 100 100" preserveAspectRatio="none">
			<path class="shape-overlays__path"></path>
			<path class="shape-overlays__path"></path>
		</svg>
	</div>
</header>

<script>
!(function() {
	var elmHamburger = document.querySelector('.hamburger');
	var gNavItems = document.querySelectorAll('.global-menu__item');
	var elmOverlay = document.querySelector('.shape-overlays');

	var overlay = {
		path: elmOverlay.querySelectorAll('path'),
		numPoints: 4,
		duration: 1000,
		delayPointsArray: [],
		delayPointsMax: 0,
		delayPerPath: 60,
		timeStart:　Date.now(),
		isOpened: false,
		isAnimating: false
	}

	function open(e) {
	    e.isOpened = true;
	    elmOverlay.classList.add('is-opened');
	    e.timeStart = Date.now();
	    renderLoop(e);
	    $('.global-menu').stop(true);
	    setTimeout(function(){
	    	$('.global-menu').animate({
	    		opacity: 1
	    	},1000,function() {
			    $('.hamburger').css({'background-color':'var(--button-bg)', 'position':'fixed'}).find('.aperture').css('display','block');
			    $('.hamburger .hamburger__line--01').css('display', 'none');
	    	});
	    }, 500);
	}

	function close(e) {
	    e.isOpened = false;
	    elmOverlay.classList.remove('is-opened');
	    e.timeStart = Date.now();
	    renderLoop(e);
	    $('.hamburger').css({'background-color':'transparent', 'position':'absolute'}).find('.aperture').css('display','none');
	    $('.hamburger .hamburger__line--01').css('display', 'block');
	    $('.global-menu').stop(true);
	    $('.global-menu').animate({
	        opacity: 0
	    },600);
	}

	function toggle(e) {
	    e.isAnimating = true;
	    for (var i = 0; i < e.numPoints; i++) {
	    	e.delayPointsArray[i] = 0;
	    }
	    e.isOpened === false ? open(e) : close(e);
  	}

  	function updatePath(e,time) {
	    var points = [];
	    var ease = {
			exponentialInOut: (t) => {
				return t == 0.0 || t == 1.0
				  ? t
				  : t < 0.5
				    ? +0.5 * Math.pow(2.0, (20.0 * t) - 10.0)
				    : -0.5 * Math.pow(2.0, 10.0 - (t * 20.0)) + 1.0;
			},
			sineOut: (t) => {
				var HALF_PI = 1.5707963267948966;
				return Math.sin(t * HALF_PI);
			}
	    }
	    for (var i = 0; i < e.numPoints; i++) {
	      var thisEase = (i % 2 === 1) ? ease.sineOut : ease.exponentialInOut;
	      points[i] = (1 - thisEase(Math.min(Math.max(time - e.delayPointsArray[i], 0) / e.duration, 1))) * 100
	    }

	    let str = '';
	    str += (e.isOpened) ? `M 0 0 H ${points[0]}` : `M ${points[0]} 0`;
	    for (var i = 0; i < e.numPoints - 1; i++) {
	      var p = (i + 1) / (e.numPoints - 1) * 100;
	      var cp = p - (1 / (e.numPoints - 1) * 100) / 2;
	      str += `C ${points[i]} ${cp} ${points[i + 1]} ${cp} ${points[i + 1]} ${p} `;
	    }
	    str += (e.isOpened) ? `H 100 V 0` : `H 0 V 0`;
	    return str;
	}

  	function render(e) {
	    if (e.isOpened) {
	      for (var i = 0; i < e.path.length; i++) {
	        e.path[i].setAttribute('d', updatePath(e,Date.now() - (e.timeStart + e.delayPerPath * i)));
	      }
	    } else {
	      for (var i = 0; i < e.path.length; i++) {
	        e.path[i].setAttribute('d', updatePath(e,Date.now() - (e.timeStart + e.delayPerPath * (e.path.length - i - 1))));
	      }
    	}
	}

  	function renderLoop(e) {
	    render(e);
	    if (Date.now() - e.timeStart < e.duration + e.delayPerPath * (e.path.length - 1) + e.delayPointsMax) {
	    	requestAnimationFrame(function() {
	        	renderLoop(e);
	    	});
	    } else {
	      e.isAnimating = false;
	    }
	}

	elmHamburger.addEventListener('click', () => {
		if (overlay.isAnimating) { return false; }

		toggle(overlay);

		if (overlay.isOpened === true) {
			elmHamburger.classList.add('is-opened-navi');
			for (var i = 0; i < gNavItems.length; i++) {
		    	gNavItems[i].classList.add('is-opened');
			}
		} else {
			elmHamburger.classList.remove('is-opened-navi');
			for (var i = 0; i < gNavItems.length; i++) {
				gNavItems[i].classList.remove('is-opened');
			}
		}
	});
})();
</script>


<div class="presale-style-slide user-bg">
    <ul class="presale-style-slide-content" id="jianhuoPresale"></ul>
</div>
<script type="text/javascript">
	require([window.pageConfig.requireDataResource],function(api) {
		var presaleData = {
	        ele: 'jianhuoPresale',
	        id: '02100351'
	    };

    	api.slideStyle(presaleData);
    });
</script>



<div class="presale-style-tab" id="yundongyushou" style="height: 460.169vw;"></div>
<script type="text/javascript">
	require([window.pageConfig.requireDataResource],function(api) {
		var presaleData = {
	        ele: 'yundongyushou',
	        data: [
	        { name: '精选推荐', id: '02108786' },
	        { name: '国际大牌', id: '01909873' },
	        { name: '时尚潮牌', id: '01910070' },
	        { name: '时尚潮牌', id: '01910070' },
	        { name: '时尚潮牌', id: '01910070' },
	        { name: '商务型男', id: '01910412' },
	        { name: '休闲百搭', id: '01910425' }]
	    };

    	api.tabStyle(presaleData)
    });
</script>


<div class="presale-style-tab" id="nvzhuangyushou" style="height: 460.169vw;"></div>
<script>
	require([window.pageConfig.requireDataResource],function(api) {
	    var presaleData = {
	        ele: 'nvzhuangyushou',
	        data: [
	        { name: '精选推荐', id: '01910435' },
	        { name: '羽绒服', id: '01910473' },
	        { name: '毛呢大衣', id: '01931091' },
	        { name: '针织衫', id: '01910484' }  ]
		};

    	api.tabStyle(presaleData)
    });
</script>


<div class="presale-style-tab" id="shepinyushou" style="height: 224.863vw;"></div>
<script>
	require([window.pageConfig.requireDataResource],function(api) {
		var presaleData = {
	        ele: 'shepinyushou',
	        id: '01931215'
	    };

    	api.listStyle(presaleData)
    });
</script>
</body>
</html>
